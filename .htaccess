# Railway Proxy Configuration
# Force HTTPS environment variable when X-Forwarded-Proto is https
<IfModule mod_setenvif.c>
    SetEnvIf X-Forwarded-Proto "https" HTTPS=on
</IfModule>

# Prevent redirect loops
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Set HTTPS environment variable based on X-Forwarded-Proto
    RewriteCond %{HTTP:X-Forwarded-Proto} =https
    RewriteRule .* - [E=HTTPS:on]
</IfModule>
